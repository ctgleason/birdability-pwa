<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="Birdability Site Review Checklist - Report accessible birding sites">
    <title>Birdability Questionnaire</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>
<body>
    <!-- Navigation Menu -->
    <div id="navMenu" class="nav-menu">
        <div class="nav-menu-header">
            <h2>Menu</h2>
            <button id="closeMenuBtn" class="close-menu-btn" aria-label="Close menu">√ó</button>
        </div>
        
        <div class="nav-menu-content">
            <div class="menu-section">
                <h3>Actions</h3>
                <button class="menu-action-btn" id="menuOpenSurvey123">üó∫Ô∏è Open in Survey123</button>
                <button class="menu-action-btn" id="menuGenerateJson">üíæ Save JSON</button>
                <button class="menu-action-btn" id="menuLoadJson">üìÇ Load JSON</button>
                <button class="menu-action-btn" id="menuEmailJson">üìß Email JSON</button>
                <button class="menu-action-btn" id="menuSaveProgress">üíæ Save Progress</button>
                <button class="menu-action-btn" id="menuClearForm">üóëÔ∏è Clear Form</button>
            </div>
            
            <div class="menu-section">
                <h3>Jump to Section</h3>
                <div class="section-nav-list">
                    <button class="section-nav-btn" data-section="1">General information</button>
                    <button class="section-nav-btn" data-section="2">Parking</button>
                    <button class="section-nav-btn" data-section="3">Services</button>
                    <button class="section-nav-btn" data-section="4">Bathrooms</button>
                    <button class="section-nav-btn" data-section="5">Ramps</button>
                    <button class="section-nav-btn" data-section="6">Trail surfaces</button>
                    <button class="section-nav-btn" data-section="7">Trail width and pullouts</button>
                    <button class="section-nav-btn" data-section="8">Trail slopes</button>
                    <button class="section-nav-btn" data-section="9">Steps present?</button>
                    <button class="section-nav-btn" data-section="10">Benches</button>
                    <button class="section-nav-btn" data-section="11">Gates/bollards</button>
                    <button class="section-nav-btn" data-section="12">Railings</button>
                    <button class="section-nav-btn" data-section="13">Features for visitors who are blind or have low vision</button>
                    <button class="section-nav-btn" data-section="14">Shade cover</button>
                    <button class="section-nav-btn" data-section="15">Trail use and popularity</button>
                    <button class="section-nav-btn" data-section="16">Other trail users</button>
                    <button class="section-nav-btn" data-section="17">Bird blinds</button>
                    <button class="section-nav-btn" data-section="18">Maintenance</button>
                    <button class="section-nav-btn" data-section="19">Nearby noise</button>
                    <button class="section-nav-btn" data-section="20">Safety concerns</button>
                    <button class="section-nav-btn" data-section="21">Final thoughts</button>
                </div>
            </div>
        </div>
    </div>
    <div id="menuOverlay" class="menu-overlay"></div>

    <div class="container">
        <header>
            <button id="menuBtn" class="menu-btn" aria-label="Open menu">‚ò∞</button>
            <h1>üê¶ Birdability Site Review Checklist</h1>
            <p class="subtitle">Help us map accessible birding sites</p>
        </header>

        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
        <p class="progress-text" id="progressText">Section 1 of 17</p>

        <form id="questionnaireForm">
            
<!-- General information -->
            <section class="form-section active" data-section="1">
                <h2>General Information</h2>
                
                <div class="form-group">
                    <label for="reportName"><strong>Report Name</strong></label>
                    <input type="text" id="reportName" name="name" placeholder="Enter report name">
                </div>

                <div class="form-group">
                    <label for="locationName"><strong>Area/Sanctuary Name</strong></label>
                    <input type="text" id="locationName" name="generalInformation.locationName" placeholder="Enter area or sanctuary name">
                </div>

                <div class="form-group">
                    <label for="trailName"><strong>Trail/bird blind name</strong></label>
                    <input type="text" id="trailName" name="generalInformation.trailName" placeholder="Enter trail or bird blind name">
                </div>

                <div class="form-group">
                    <label for="websiteUrl"><strong>Website (optional)</strong></label>
                    <input type="url" id="websiteUrl" name="generalInformation.websiteUrl" placeholder="https://example.com">
                </div>

                <div class="form-group">
                    <label><strong>Drop a pin at the location of the trailhead, blind, or observation platform</strong></label>
                    <p style="font-size: 0.9em; color: #666; margin: 5px 0 10px 0;">Select your current location or choose on the map</p>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <button type="button" id="useCurrentLocationBtn" class="btn btn-secondary" style="flex: 1;">üìç Use Current Location</button>
                        <button type="button" id="chooseOnMapBtn" class="btn btn-secondary" style="flex: 1;">üó∫Ô∏è Choose on Map</button>
                    </div>
                    <input type="hidden" id="latitude" name="generalInformation.latitude">
                    <input type="hidden" id="longitude" name="generalInformation.longitude">
                    <div id="locationDisplay" style="font-size: 0.9em; color: #666; margin-top: 5px;"></div>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Good car birding?</strong></label>
                    <div class="radio-row">
                        <label><input type="radio" name="generalInformation.goodCarBirding" value="true"> Yes</label>
                        <label><input type="radio" name="generalInformation.goodCarBirding" value="false"> No</label>
                    </div>
                </div>

                <div class="form-group">
                    <h3 style="font-size: 1rem; font-weight: 500; margin-bottom: 8px; color: var(--text-color);">If yes, describe</h3>
                    <textarea id="goodCarBirdingDetails" name="generalInformation.goodCarBirdingDetails" rows="2" placeholder="Describe car birding opportunities"></textarea>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Units of measurement preferred</strong></label>
                    <div class="radio-row">
                        <label><input type="radio" name="generalInformation.unitsPreferred" value="miles"> Miles</label>
                        <label><input type="radio" name="generalInformation.unitsPreferred" value="kilometers"> Kilometers</label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="lengthOfTrail"><strong>Length of trail</strong></label>
                    <input type="text" id="lengthOfTrail" name="generalInformation.lengthOfTrail" placeholder="e.g., 2.5 miles or 1 km">
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Trail type</strong></label>
                    <div class="checkbox-row">
                        <label><input type="checkbox" name="generalInformation.trailLoop"> Loop</label>
                        <label><input type="checkbox" name="generalInformation.trailOutAndBack"> Out and back</label>
                        <label><input type="checkbox" name="generalInformation.trailLollipop"> Lollipop</label>
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Entrance fee?</strong></label>
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <div class="radio-row">
                            <label><input type="radio" name="generalInformation.entranceFee" value="true"> Yes</label>
                            <label><input type="radio" name="generalInformation.entranceFee" value="false"> No</label>
                        </div>
                        <input type="text" id="entranceFeeDetails" name="generalInformation.entranceFeeDetails" placeholder="Fee amount" style="flex: 1; min-width: 150px;">
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Parking fee?</strong></label>
                    <div style="display: flex; align-items: center; gap: 15px; flex-wrap: wrap;">
                        <div class="radio-row">
                            <label><input type="radio" name="generalInformation.parkingFee" value="true"> Yes</label>
                            <label><input type="radio" name="generalInformation.parkingFee" value="false"> No</label>
                        </div>
                        <input type="text" id="parkingFeeDetails" name="generalInformation.parkingFeeDetails" placeholder="Fee amount" style="flex: 1; min-width: 150px;">
                    </div>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Is there nearby access to public transportation?</strong></label>
                    <div class="radio-row">
                        <label><input type="radio" name="generalInformation.publicTransitAccess" value="true"> Yes</label>
                        <label><input type="radio" name="generalInformation.publicTransitAccess" value="false"> No</label>
                    </div>
                </div>

                <div class="form-group">
                    <h3 style="font-size: 1rem; font-weight: 500; margin-bottom: 8px; color: var(--text-color);">If yes, describe</h3>
                    <textarea id="publicTransitInfo" name="generalInformation.publicTransitInfo" rows="2" placeholder="Describe public transit access"></textarea>
                </div>

                <div class="form-group checkbox-group">
                    <label><strong>Is there walking or biking access from nearby residential areas?</strong></label>
                    <div class="radio-row">
                        <label><input type="radio" name="generalInformation.walkingBikingAccess" value="true"> Yes</label>
                        <label><input type="radio" name="generalInformation.walkingBikingAccess" value="false"> No</label>
                    </div>
                </div>

                <div class="form-group">
                    <h3 style="font-size: 1rem; font-weight: 500; margin-bottom: 8px; color: var(--text-color);">If yes, describe</h3>
                    <textarea id="walkingOrBikingInfo" name="generalInformation.walkingOrBikingInfo" rows="2" placeholder="Describe walking or biking access"></textarea>
                </div>

                <div class="form-group">
                    <label for="generalNotes"><strong>Notes</strong></label>
                    <textarea id="generalNotes" name="generalInformation.notes" rows="3" placeholder="Additional notes"></textarea>
                </div>
            </section>
<!-- Parking -->
            <section class="form-section" data-section="2">
                <h2>Parking</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.parking.noParkingArea"> No parking area</label>
                    <label><input type="checkbox" name="accessibilityDetailed.parking.pullOffAreas"> Pull-off areas (for car birding)</label>
                    
                    <div style="display: flex; align-items: center; margin: 8px 0;">
                        <label><input type="checkbox" name="accessibilityDetailed.parking.signedAccessibleParkingSpaces"> Signed accessible parking spaces. Number:</label>
                        <input type="number" name="accessibilityDetailed.parking.signedAccessibleParkingSpacesNumber" placeholder="Number" style="width: 80px; margin-left: 10px;">
                    </div>
                    
                    <div style="display: flex; align-items: center; margin: 8px 0;">
                        <label style="flex: 1;"><input type="checkbox" name="accessibilityDetailed.parking.vanAccessibleParkingSpaces"> Van accessible parking spaces. Parking space is 132 in. (3.3 m.) wide, with extra 60 in. (1.5 m.) wide aisle/side space for a ramp. Number:</label>
                        <input type="number" name="accessibilityDetailed.parking.vanAccessibleParkingSpacesNumber" placeholder="Number" style="width: 80px; margin-left: 10px;">
                    </div>
                    
                    <label><input type="checkbox" name="accessibilityDetailed.parking.curbCutsPresent"> Curb cuts present from parking lot to sidewalk/trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.parking.surfaceIsPaved"> Surface is paved</label>
                    <label><input type="checkbox" name="accessibilityDetailed.parking.surfaceIsGravel"> Surface is gravel</label>
                    <label><input type="checkbox" name="accessibilityDetailed.parking.surfaceHasManyPotholes"> Surface has many potholes/bumps</label>
                    <label><input type="checkbox" name="accessibilityDetailed.parking.parkingOnUnmanageableSlope"> Parking on unmanageable slope</label>
                </div>

                <div class="form-group">
                    <label for="parkingComments">Comments</label>
                    <textarea id="parkingComments" name="accessibilityDetailed.parking.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Services -->
            <section class="form-section" data-section="3">
                <h2>Services available at this location</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.services.visitorCenter"> Visitor center</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.staffOrVolunteers"> Staff or volunteers</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.interpretivePrograms"> Interpretive programs</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.accessibleTramOrMotorizedTour"> Accessible tram or motorized tour</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.gatedAreasAccessibleIfArranged"> Gated areas (for example, drive-up bird blinds) accessible if arranged ahead of time</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.mealsAvailable"> Meals available</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.waterFountainsOutsideBuildings"> Water fountains outside buildings</label>
                    <label><input type="checkbox" name="accessibilityDetailed.services.accessibleWaterFountains"> Accessible water fountains, no higher than 36 in. (91 cm.) from the ground, outside buildings</label>
                </div>

                <div class="form-group">
                    <label for="servicesComments">Comments, including visitor center hours:</label>
                    <textarea id="servicesComments" name="accessibilityDetailed.services.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Bathrooms -->
            <section class="form-section" data-section="4">
                <h2>Bathrooms</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.noBathrooms"> No bathrooms</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.accessOnlyWhenCenterOpen"> Bathroom access only available when visitor center is open</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.portableRestrooms"> Portable restrooms</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.wheelchairAccessiblePortable"> Wheelchair accessible portable restrooms</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.allGender"> All gender bathrooms, rather than 'male' or 'female'</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.doorFramesAtLeast32"> Door frames at least 32 in. (81 cm) across</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.thresholdNotOnSlant"> Threshold not on slant or in middle of a doorway</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.stallSizeMin6060"> Stall size min. 60 in. x 60 in. (1.5 m x 1.5 m)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.toiletSeatHeight17to19"> Top of toilet seat 17-19 in. (43-48 cm) from the floor</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.sinkHeightMax34"> Sink height 34 in. (86 cm) max.</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.mirrorBottomMax40"> Bottom edge of mirror no higher than 40 in. (101 cm) from floor</label>
                    <label><input type="checkbox" name="accessibilityDetailed.bathrooms.handDryersMax35"> Hand dryers or towels max. 35 in. (89 cm) above floor</label>
                </div>

                <div class="form-group">
                    <label for="bathroomsComments">Comments</label>
                    <textarea id="bathroomsComments" name="accessibilityDetailed.bathrooms.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Ramps -->
            <section class="form-section" data-section="5">
                <h2>Ramps</h2>
                
                <p>Ramps may go up to observation platforms or bird blinds, or in and out of buildings.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.noRamps"> No ramps</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.handrailsPresent"> Handrails present</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.widthAtLeast36"> Ramps at least 36 in. (91 cm) wide</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.slopeNoSteeperThan1to12"> For every 1 in. (2.5 cm) the ramp rises, it extends out 12 in. (30.5 cm) (no greater than 1:12 ratio, or no steeper than 8.33%)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.steeperButManageable"> Ramps are steeper than 1:12, but not so steep it feels like an effort to use</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.verySteep"> Ramps are very steep</label>
                    <label><input type="checkbox" name="accessibilityDetailed.ramps.flatLandingsMin6060"> Flat landings between slopes or when ramps change direction are at least 60 in. x 60 in. (1.5 m x 1.5 m)</label>
                </div>

                <div class="form-group">
                    <label for="rampsComments">Comments</label>
                    <textarea id="rampsComments" name="accessibilityDetailed.ramps.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Trail surfaces -->
            <section class="form-section" data-section="6">
                <h2>Trail surfaces</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.concrete"> Concrete</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.asphalt"> Asphalt</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.woodenBoardwalk"> Wooden boardwalk</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.wellPackedCrushedStone"> Well-packed crushed stone</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.hardPackedSoil"> Hard-packed soil</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.looseDirt"> Loose dirt</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.looseCrushedStoneOrGravel"> Loose crushed stone or gravel</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.thickGrass"> Thick grass</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.mulch"> Mulch</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.sand"> Sand</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.muddySections"> Muddy sections</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.protrudingRootsAndRocks"> Protruding roots and rocks</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSurfaces.rutsAndPotholes"> Ruts and potholes</label>
                </div>

                <div class="form-group">
                    <label for="trailSurfacesComments">Comments, including approximate distance of each trail surface if more than one surface present</label>
                    <textarea id="trailSurfacesComments" name="accessibilityDetailed.trailSurfaces.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Trail width and pullouts -->
            <section class="form-section" data-section="7">
                <h2>Trail width and pull-outs</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.atLeast60"> Trail is at least 60 in. (1.5 m) wide</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.atLeast36"> Trail is at least 36 in. (91 cm) wide</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.relativelyNarrow"> Trail is relatively narrow (it would be somewhat difficult to pass others if using a mobility device)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.noPullouts"> No pull-outs (passing spaces) along the trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.pulloutsEvery1000ft"> Pull-outs occur at least every 1,000 ft (305 m)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailWidthPullouts.pulloutsLessFrequent"> Pull-outs are less frequent</label>
                </div>

                <div class="form-group">
                    <label for="trailWidthComments">Comments</label>
                    <textarea id="trailWidthComments" name="accessibilityDetailed.trailWidthPullouts.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Trail slopes -->
            <section class="form-section" data-section="8">
                <h2>Trail slope(s)</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.trailSlopes.completelyFlat"> Entire trail is completely flat</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSlopes.noSteeperThan1to20"> Trail slopes are no steeper than a ratio of 1:20 (5% gradient)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSlopes.relativelyFlatButSteeperThan1to20"> Trail slopes are relatively flat, but steeper than 1:20 (5% gradient)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailSlopes.verySteep"> Trail slopes are very steep</label>
                </div>

                <div class="form-group">
                    <label for="trailSlopesComments">Comments</label>
                    <textarea id="trailSlopesComments" name="accessibilityDetailed.trailSlopes.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Steps present? -->
            <section class="form-section" data-section="9">
                <h2>Are any steps present?</h2>
                
                <p>Even one small step can prevent a location from being truly accessible.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.steps.yes"> Yes</label>
                    <label><input type="checkbox" name="accessibilityDetailed.steps.no"> No</label>
                </div>

                <div class="form-group">
                    <label for="stepsComments">Comments, including number of steps and location</label>
                    <textarea id="stepsComments" name="accessibilityDetailed.steps.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Benches -->
            <section class="form-section" data-section="10">
                <h2>Benches</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.benches.noBenches"> No benches along the trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.benches.benchesEvery200m"> Benches occur every 1/8 mile (200 m)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.benches.benchesLessFrequent"> Benches are less frequent</label>
                    <label><input type="checkbox" name="accessibilityDetailed.benches.benchesWithArmrests"> Benches have at least one armrest</label>
                    <label><input type="checkbox" name="accessibilityDetailed.benches.benchesConnectedByPavedSurface"> Benches are connected to trail by paved surface</label>
                </div>

                <div class="form-group">
                    <label for="benchesComments">Comments</label>
                    <textarea id="benchesComments" name="accessibilityDetailed.benches.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Gates/bollards -->
            <section class="form-section" data-section="11">
                <h2>Gates/bollards</h2>
                
                <p>Examples of large obstacles on a trail that would restrict some wheelchair users or people using service animals.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.gates.noGatesOrBollards"> No gates or bollards</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.spaceAtLeast36in"> Space between bollards at least 36 in. (91 cm.)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.gatesAtLeast36in"> Gates are at least 36 in. (91 cm) wide</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.gatesNarrowerThan36in"> Gates are narrower than 36 in. (91 cm)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.swingKissingGate"> Swing or 'kissing' gate</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.roadClosureGateNoAlternative"> Road closure gate with no alternative route</label>
                    <label><input type="checkbox" name="accessibilityDetailed.gates.roadClosureGateWithPathAtLeast36in"> Road closure gate with a path around or beside it at least 36 in. (91 cm) wide</label>
                </div>

                <div class="form-group">
                    <label for="gatesComments">Comments</label>
                    <textarea id="gatesComments" name="accessibilityDetailed.gates.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Railings -->
            <section class="form-section" data-section="12">
                <h2>Railings or safety barriers</h2>
                
                <p>These are used to keep visitors on a boardwalk, bridge or viewpoint.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.railings.noRailings"> No railings</label>
                    <label><input type="checkbox" name="accessibilityDetailed.railings.smallLipOnEdge"> Small lip (approximately 1-2 in. or 2.5-5 cm high) on edge of boardwalk</label>
                    <label><input type="checkbox" name="accessibilityDetailed.railings.topRailingsOptimizeSight"> Top railings are not thick/deep, and are placed to optimize, not obstruct, a seated person's line of sight (which is, on average 35-45 in. or 88-114 cm from the ground)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.railings.topRailingThickAndObstructive"> Top railing is thick and hard to see beyond while seated</label>
                </div>

                <div class="form-group">
                    <label for="railingsComments">Comments, including type of vertical or horizontal bars present, and spacing between each bar</label>
                    <textarea id="railingsComments" name="accessibilityDetailed.railings.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Features for visitors who are blind or have low vision -->
            <section class="form-section" data-section="13">
                <h2>Features for visitors who are blind or have low vision</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.guideRopes"> Guide ropes along the side of the trail for self-guiding</label>
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.audioRecordings"> Audio recordings of interpretive sign content</label>
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.tactileComponentsOnSigns"> Tactile components on signs</label>
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.brailleOnSigns"> Braille on signs</label>
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.tactileMarkersOnSurface"> Tactile markers on the surface of the trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.blindFacilities.additionalResourcesLoan"> Additional resources available to loan (for example, large print or braille information booklets, audio guide)</label>
                </div>

                <div class="form-group">
                    <label for="blindFacilitiesComments">Comments</label>
                    <textarea id="blindFacilitiesComments" name="accessibilityDetailed.blindFacilities.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Shade cover -->
            <section class="form-section" data-section="14">
                <h2>Shade cover</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.shadeCover.completely"> Completely</label>
                    <label><input type="checkbox" name="accessibilityDetailed.shadeCover.somewhat"> Somewhat</label>
                    <label><input type="checkbox" name="accessibilityDetailed.shadeCover.notAtAll"> Not at all</label>
                    <label><input type="checkbox" name="accessibilityDetailed.shadeCover.someShadedSomeNot"> Some sections of the trail are shaded, some are not</label>
                </div>

                <div class="form-group">
                    <label for="shadeCoverComments">Comments</label>
                    <textarea id="shadeCoverComments" name="accessibilityDetailed.shadeCover.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Trail use and popularity -->
            <section class="form-section" data-section="15">
                <h2>Trail use and popularity</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.trailUsePopularity.veryBusy"> Very busy; difficult to find a parking space or to pass other trail users</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailUsePopularity.somewhatBusy"> Somewhat busy; still easy to navigate the trail with other visitors</label>
                    <label><input type="checkbox" name="accessibilityDetailed.trailUsePopularity.notBusy"> Not busy</label>
                </div>

                <div class="form-group">
                    <label for="trailUsePopularityComments">Comments, including busy season/s and time/s of day or week</label>
                    <textarea id="trailUsePopularityComments" name="accessibilityDetailed.trailUsePopularity.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Other trail users -->
            <section class="form-section" data-section="16">
                <h2>Other trail users</h2>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.otherTrailUsers.mountainBikes"> Mountain bikes</label>
                    <label><input type="checkbox" name="accessibilityDetailed.otherTrailUsers.cyclists"> Cyclists (especially on bike paths)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.otherTrailUsers.horses"> Horses</label>
                    <label><input type="checkbox" name="accessibilityDetailed.otherTrailUsers.motorVehicles"> Motor vehicles, including golf carts</label>
                    <label><input type="checkbox" name="accessibilityDetailed.otherTrailUsers.inlineSkiers"> In-line skiers</label>
                </div>

                <div class="form-group">
                    <label for="otherTrailUsersComments">Comments</label>
                    <textarea id="otherTrailUsersComments" name="accessibilityDetailed.otherTrailUsers.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Bird blinds -->
            <section class="form-section" data-section="17">
                <h2>Bird blinds</h2>
                
                <p>If there is more than one at this location, please consider submitting a separate Birdability Site Review for each bird blind.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.noBirdBlind"> No bird blind</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.noDoorOrEntryway"> No door or entryway</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.doorwayAtTopOfRampOrOnCrossSlope"> Doorway at top of ramp or on cross slope</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.doorCanBeOpenedAndHeldWithOneHand"> Door can be opened and held open easily with one hand while passing through</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.noLipAtThreshold"> No lip at the threshold of the doorway</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.doorwayAtLeast32in"> Doorway at least 32 in. (81 cm) wide</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.enoughSpaceInsideForWheelchairs"> Enough space inside for wheelchairs to maneuver easily</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.viewingWindowsBottom30to40in"> Viewing windows: bottom edge is 30-40 in. (76 cm -1 m) from the floor</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.shelvesNoDeeperThan6in"> Shelves or ledges in front of windows are no deeper than 6 in. (15 cm)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.interiorBenchesMovable"> Interior benches are movable</label>
                    <label><input type="checkbox" name="accessibilityDetailed.birdBlinds.roofProvidesShade"> Roof or other structure provides shade</label>
                </div>

                <div class="form-group">
                    <label for="birdBlindsComments">Comments, including surface of bird blind floor</label>
                    <textarea id="birdBlindsComments" name="accessibilityDetailed.birdBlinds.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Maintenance -->
            <section class="form-section" data-section="18">
                <h2>Maintenance</h2>
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.plowedFrequentlyInWinter"> Plowed frequently in winter</label>
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.leavesRemovedInFallWinter"> Leaves removed in fall/winter</label>
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.grassySurfacesMownFrequently"> All grassy trail surfaces are mown frequently</label>
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.vegetationPrunedNextToTrail"> Vegetation next to the trail is pruned so it does not encroach over the trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.treeBranchesClearAbove7ft"> Tree branches do not extend over the surface of the trail below the height of 7 ft (2.1 m)</label>
                    <label><input type="checkbox" name="accessibilityDetailed.maintenance.significantSurfaceDamage"> Significant cracks, potholes, or loose, damaged or uneven boards in trail surface</label>
                </div>

                <div class="form-group">
                    <label for="maintenanceComments">Comments</label>
                    <textarea id="maintenanceComments" name="accessibilityDetailed.maintenance.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Nearby noise -->
            <section class="form-section" data-section="19">
                <h2>Nearby noise</h2>
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.intermittentConstruction"> Intermittent nearby construction noise</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.ongoingIndustrial"> Ongoing industrial noise</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.nearbyTraffic"> Nearby traffic noise</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.nearAirportOrFlightPath"> Near an airport/heavily trafficked flight path</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.loudBoatsNearby"> Loud boats nearby</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.dirtBikesNearby"> Dirt bikes nearby</label>
                    <label><input type="checkbox" name="accessibilityDetailed.nearbyNoise.largeGroupsOftenUseLocation"> Large groups of people often use this location for social gatherings</label>
                </div>

                <div class="form-group">
                    <label for="nearbyNoiseComments">Comments, including busy season(s) and time/s of day or week</label>
                    <textarea id="nearbyNoiseComments" name="accessibilityDetailed.nearbyNoise.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Safety concerns -->
            <section class="form-section" data-section="20">
                <h2>Potential safety concerns</h2>
                
                <p>Even if you felt safe at this location, let us know if you noticed any of these at this site or within approx. 2 miles (3 km) of the parking area.</p>
                
                <div class="form-group checkbox-group">
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.wellUsedDidntFeelDeserted"> Well used; didn't feel deserted</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.notWellUsedFewOtherUsers"> Not well-used; few other users</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.bordersPrivatePropertyKeepOutSigns"> Location borders a private property with 'keep out' or 'no trespassing' signs visible at the parking area or along the trail</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.dogsOftenOffLeash"> Dogs often off leash</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.parkingWellLitAtNight"> Parking is well lit at night</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.trailWellLitAtNight"> Trail is well lit at night</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.ticksOrChiggersConcern"> Ticks or chiggers are a concern</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.bearsOrMountainLionsReported"> Bears or mountain lions frequently reported</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.noticeablePresenceOfAuthorities"> Noticeable presence of police, Border Patrol or other authorities</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.usedAsIsolatedPartySpot"> Used as an isolated party spot, or for large, loud gatherings</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.hateSymbolsPresent"> Hate symbols, including graffiti, Confederate flags</label>
                    <label><input type="checkbox" name="accessibilityDetailed.safetyConcerns.evidenceOfDrugOrAlcoholUse"> Evidence of recreational drug or alcohol use</label>
                </div>

                <div class="form-group">
                    <label for="safetyConcernsComments">Comments</label>
                    <textarea id="safetyConcernsComments" name="accessibilityDetailed.safetyConcerns.comments" rows="3"></textarea>
                </div>
            </section>
<!-- Final thoughts -->
            <section class="form-section" data-section="21">
                <h2>Final thoughts</h2>
                <p>Including likely birds found here, seasonal conditions, overall difficulty, or any other information that may be helpful to a visitor with an accessibility challenge.</p>
                
                <div class="form-group">
                    <textarea id="finalThoughts" name="finalThoughts" rows="6" placeholder="Likely birds found here, seasonal conditions, overall difficulty, or any other helpful information..."></textarea>
                </div>
                
                <div class="info-box" style="margin-top: 20px; padding: 15px; background-color: #f0f8ff; border-left: 4px solid #0066cc; border-radius: 4px;">
                    <p style="margin: 0; font-style: italic;">Sometimes pictures speak a thousand words. Don't forget to take up to eight photos of trail conditions, trail signage, obstacles, etc. to upload as you're submitting to the Birdability Map. And thanks!</p>
                </div>
                
                <div class="form-group" style="margin-top: 30px;">
                    <label>Photo attachments</label>
                    <button type="button" id="attachPhotosBtn" class="btn btn-secondary" style="width: 100%; margin-bottom: 10px;">üì∑ Attach photos</button>
                    <input type="file" id="photoInput" accept="image/*" multiple style="display: none;">
                    <div id="photoList" class="photo-list"></div>
                </div>
            </section>

            

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <button type="button" id="prevBtn" class="btn btn-secondary">Previous</button>
                <button type="button" id="nextBtn" class="btn btn-primary">Next</button>
                <button type="button" id="submitBtn" class="btn btn-success" style="display: none;">Complete Review</button>
            </div>
            
            <!-- Action Buttons (shown on final section) -->
            <div id="actionButtons" class="nav-buttons" style="display: none; margin-top: 20px; gap: 10px;">
                <button type="button" id="saveJsonBtn" class="btn btn-success">Save JSON</button>
                <button type="button" id="loadJsonBtn" class="btn btn-primary">Load JSON</button>
                <button type="button" id="emailJsonBtn" class="btn btn-primary">Email JSON</button>
                <button type="button" id="saveProgressBtn" class="btn btn-secondary">Save Progress</button>
            </div>
            
            <!-- Hidden file input for loading JSON -->
            <input type="file" id="jsonFileInput" accept=".json" style="display: none;">
        </form>

        <div id="outputSection" style="display: none;">
            <h2>Generated JSON Output</h2>
            <div class="button-group">
                <button id="copyBtn" class="btn btn-primary">Copy to Clipboard</button>
                <button id="downloadBtn" class="btn btn-primary">Download JSON</button>
                <button id="resetBtn" class="btn btn-secondary">Start New Report</button>
            </div>
            <pre id="jsonOutput"></pre>
        </div>
    </div>

    <script src="survey123-mapper.js"></script>
    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed'));
        }
    </script>
</body>
</html>
